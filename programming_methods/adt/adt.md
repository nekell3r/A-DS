# 7.2 Программирование в абстрактных типах данных (АТД)

**Абстракция** — средство «подняться над деталями»: мы описываем **что** можно делать, не раскрывая **как** это устроено. В программах различают уровни абстракции.

**АТД** — описание нового типа (класса) объектов через **свойства и операции**, без привязки к конкретной реализации. В зрелой форме определение АТД включает 4 части:

1. **Внешность/интерфейс** (видимые имена, сигнатуры, типы аргументов/результатов).
2. **Абстрактное описание объектов** и **средства спецификации** свойств (аксиомы/законы).
3. **Конкретная реализация операций** на обычном языке программирования.
4. **Соответствие** между (2) и (3) — почему реализация корректна относительно спецификации.

## 7.2.1 Методы абстракции в языках программирования

* Абстракция помогает отделять существенные признаки от несущественных (в тексте — пример с иерархией «млекопитающие → приматы/грызуны → …»).
* Показан пример двух фрагментов **линейного поиска** (вперёд/назад): они решают одну задачу, но формы отличаются — это иллюстрирует **разный уровень и ракурс абстракции**.

**Два базовых метода:**

1. **Абстракция через параметризацию.**
   Описываем **семейство** вычислений параметрами (в т. ч. типовыми/функциональными). Пример на странице: выражение `x*x + y*y` и его функциональная форма `λx,y: int.(x*x + y*y)` — мы абстрагировали конкретные значения в параметры.
2. **Абстракция через спецификацию.**
   Задаём **свойства операций** (контракты, аксиомы), не уточняя реализацию. Это позволяет клиентскому коду опираться на гарантии, а реализацию менять.

## 7.2.2 Виды абстракции в языках программирования

1. **Процедурная абстракция.**
   Расширяем «виртуальную машину» языка новыми операциями: например, `sqrt(x)` — внешне «примитив», внутри сложный алгоритм.
2. **Абстракция данных (АТД).**
   Поведение задаётся набором операций над объектами. Пример из текста — **мультимножество** с операциями
   `empty(), insert(e), delete(e), number_of(e), size()`
   и **алгебраическими спецификациями**, например:

   * `size(insert(s,e)) = size(s) + 1`
   * `number_of(e, empty()) = 0`
     Такие спецификации — часть **интерфейсного контракта** АТД.
3. **Абстракция через итерацию.**
   Позволяет обработать *все* элементы структуры **без раскрытия представления** и порядка обхода (аналог «for-each»/итераторов). Удобна для декомпозиции программ «сверху вниз».
